# show cluster nodes info
redis-cli  -p 7002 -c cluster nodes

#show cluster info
redis-cli -p 7002 -c cluster info

#redis cluster add master node
redis-trib.rb add-node 127.0.0.1:7006 127.0.0.1:7000

#redis cluster add node
redis-trib.rb add-node --slave 127.0.0.1:7007 127.0.0.1:7006

#redis cluster reshard 
redis-trib.rb reshard 127.0.0.1:7002

#redis cluster del node
#note:slave 可以直接删除，master必须先把slot给分配到其他的node
redis-trib.rb del-node 127.0.0.1:7007 bf24bae991b1464d8c3cf73c50754e73439785d2
>>> Removing node bf24bae991b1464d8c3cf73c50754e73439785d2 from cluster 127.0.0.1:7007
>>> Sending CLUSTER FORGET messages to the cluster...
>>> SHUTDOWN the node.

[root@MSJTVL-YWCS-A01 7007]# redis-trib.rb del-node 127.0.0.1:7006 9f10b8a902d27bebd25daa06199b488cf18d607e
>>> Removing node 9f10b8a902d27bebd25daa06199b488cf18d607e from cluster 127.0.0.1:7006
[ERR] Node 127.0.0.1:7006 is not empty! Reshard data away and try again.

